---
import NavigationLink from "@/components/NavigationLink.astro";
import { getLangFromUrl, pathWithLocale, uiLoader, buildElementProps } from "@/utils";
import { type PatchOptions } from "@/types/attributes";

type NavigationStyle = "default" | "embellished";

interface NavProps extends PatchOptions<"ul"> {
  mode: NavigationStyle;
}

const { mode = "default", ...attrs } = Astro.props as NavProps;

const lang = getLangFromUrl(Astro.url);
const ui = await uiLoader.getAsync(lang);

const homeUrl = pathWithLocale(lang, "/");
const folioUrl = pathWithLocale(lang, "/folio/");
const blogUrl = pathWithLocale(lang, "/blog/");
const contactUrl = pathWithLocale(lang, "/contact/");

const built = buildElementProps<"ul">({
  classList: ["nav-links", mode],
  attributes: attrs
});
---

<ul {...built}>
  <li>
    <NavigationLink title={ui.nav.home} link={homeUrl} />
  </li>
  <li>
    <NavigationLink title={ui.nav.portfolio} link={folioUrl} />
  </li>
  <li>
    <NavigationLink title={ui.nav.blog} link={blogUrl} />
  </li>
  <li>
    <NavigationLink title={ui.nav.contact} link={contactUrl} />
  </li>
</ul>

<style>
  .nav-links {
    display: flex;
    justify-content: space-between;
    gap: var(--space-3);
    padding: 0;
    margin: 0;
    list-style: none;
    width: 100%;
  }

  .default {
    border-radius: var(--radius-md);
  }
  .embellished {
    border-radius: var(--radius-md);
  }
</style>
